# FHIR JSON Structure Documentation

## Overview

The JSON files in the `data/fhir/` folder contain **FHIR (Fast Healthcare Interoperability Resources) Bundle** resources. These are collections of healthcare-related resources that represent complete patient records generated by Synthea (a synthetic patient data generator).

## Root Structure

Each JSON file follows the FHIR Bundle structure:

```json
{
  "type": "collection",
  "entry": [
    // Array of resource entries
  ],
  "resourceType": "Bundle"
}
```

### Root Properties

- **`type`**: Always `"collection"` - indicates this is a collection of resources
- **`entry`**: Array of resource entries, each containing a healthcare resource
- **`resourceType`**: Always `"Bundle"` - identifies this as a FHIR Bundle resource

## Entry Structure

Each entry in the `entry` array has the following structure:

```json
{
  "fullUrl": "urn:uuid:...",
  "resource": {
    // Resource-specific data
    "resourceType": "...",
    // ... other fields
  }
}
```

### Entry Properties

- **`fullUrl`**: A unique identifier (typically a UUID) for the resource, used for references between resources
- **`resource`**: The actual FHIR resource object containing the healthcare data

## Resource Types

The bundle contains various types of FHIR resources. Common resource types found in these files include:

### 1. Patient
- **`resourceType`**: `"Patient"`
- Contains demographic and personal information about the patient
- Fields include:
  - `id`: Unique identifier
  - `name`: Patient's name(s) with family, given, prefix
  - `gender`: Patient's gender
  - `birthDate`: Date of birth
  - `address`: Address information
  - `identifier`: Various identifiers (SSN, driver's license, etc.)
  - `extension`: Extended attributes (race, ethnicity, birth place, etc.)
  - `telecom`: Contact information (phone, email)
  - `maritalStatus`: Marital status
  - `communication`: Preferred language

### 2. Organization
- **`resourceType`**: `"Organization"`
- Represents healthcare providers or organizations
- Fields include:
  - `id`: Unique identifier
  - `name`: Organization name
  - `type`: Type of organization (e.g., "Healthcare Provider")

### 3. Encounter
- **`resourceType`**: `"Encounter"`
- Represents healthcare visits or interactions
- Fields include:
  - `id`: Unique identifier
  - `status`: Status of the encounter (e.g., "finished")
  - `class`: Class of encounter (e.g., "ambulatory")
  - `type`: Type of encounter
  - `subject`: Reference to the Patient resource
  - `period`: Start and end times
  - `reason`: Reason for the encounter
  - `serviceProvider`: Reference to the Organization resource

### 4. Condition
- **`resourceType`**: `"Condition"`
- Represents medical conditions, diagnoses, or problems
- Fields include:
  - `id`: Unique identifier
  - `clinicalStatus`: Current status (e.g., "active", "resolved")
  - `verificationStatus`: Verification status (e.g., "confirmed")
  - `code`: Condition code (typically SNOMED CT)
  - `subject`: Reference to the Patient resource
  - `context`: Reference to the Encounter where it was recorded
  - `onsetDateTime`: When the condition started

### 5. Observation
- **`resourceType`**: `"Observation"`
- Represents clinical measurements, lab results, vital signs, etc.
- Fields include:
  - `id`: Unique identifier
  - `status`: Status (e.g., "final")
  - `category`: Category of observation (e.g., "laboratory", "vital-signs")
  - `code`: Observation code (typically LOINC)
  - `subject`: Reference to the Patient resource
  - `context`: Reference to the Encounter
  - `effectiveDateTime`: When the observation was made
  - `valueQuantity`: Numeric value with unit
  - `valueCodeableConcept`: Coded value
  - `interpretation`: Interpretation of the result

### 6. Medication
- **`resourceType`**: `"Medication"`
- Represents medication definitions
- Fields include:
  - `code`: Medication code (typically RxNorm)
  - `text`: Human-readable medication name

### 7. MedicationRequest
- **`resourceType`**: `"MedicationRequest"`
- Represents medication prescriptions or orders
- Fields include:
  - `id`: Unique identifier
  - `status`: Status (e.g., "active", "completed")
  - `medicationReference`: Reference to Medication resource
  - `subject`: Reference to the Patient resource
  - `context`: Reference to the Encounter
  - `authoredOn`: When the prescription was written
  - `dosageInstruction`: Dosage instructions

### 8. Immunization
- **`resourceType`**: `"Immunization"`
- Represents vaccination records
- Fields include:
  - `id`: Unique identifier
  - `status`: Status (e.g., "completed")
  - `vaccineCode`: Vaccine code (typically CVX)
  - `patient`: Reference to the Patient resource
  - `encounter`: Reference to the Encounter
  - `date`: Date of immunization
  - `primarySource`: Whether the record is from the primary source

### 9. DiagnosticReport
- **`resourceType`**: `"DiagnosticReport"`
- Represents diagnostic test results and reports
- Fields include:
  - `id`: Unique identifier
  - `status`: Status (e.g., "final")
  - `category`: Category of report
  - `code`: Report code (typically LOINC)
  - `subject`: Reference to the Patient resource
  - `context`: Reference to the Encounter
  - `effectiveDateTime`: When the report was generated
  - `result`: References to Observation resources

### 10. Procedure
- **`resourceType`**: `"Procedure"`
- Represents medical procedures performed
- Fields include:
  - `id`: Unique identifier
  - `status`: Status (e.g., "completed")
  - `code`: Procedure code (typically SNOMED CT or CPT)
  - `subject`: Reference to the Patient resource
  - `context`: Reference to the Encounter
  - `performedDateTime`: When the procedure was performed

## Common Patterns

### References Between Resources

Resources reference each other using the `fullUrl` values from entries:

```json
{
  "subject": {
    "reference": "urn:uuid:1b07b22f-2e2f-4dbc-ba4b-589590ab1f2f"
  }
}
```

This reference points to the Patient resource with that UUID.

### Coding Systems

The resources use standard healthcare coding systems:

- **SNOMED CT**: `http://snomed.info/sct` - For conditions, procedures, and clinical concepts
- **LOINC**: `http://loinc.org` - For laboratory tests and observations
- **RxNorm**: `http://www.nlm.nih.gov/research/umls/rxnorm` - For medications
- **ICD-10**: For diagnosis codes
- **CVX**: For vaccine codes

### Extensions

Many resources include `extension` arrays that add custom or additional data beyond the base FHIR specification. Common extensions include:

- US Core extensions (race, ethnicity, birth sex)
- Standard Health Record (SHR) extensions
- Geolocation data for addresses

## File Naming Convention

Files are named using the pattern:
```
{LastName}{FirstName}_{Age}.json
```

For example: `Abbott509_Aaron203_44.json` represents a patient named Aaron203 Abbott509, age 44.

## Data Source

These files are generated by **Synthea** (https://github.com/synthetichealth/synthea), a synthetic patient data generator that creates realistic but fictional patient records for testing and development purposes.

## Notes

- All patient data is synthetic and fictional
- Resources are linked through UUID references
- The Bundle type is "collection", meaning it's a simple collection of resources without additional processing instructions
- Each file represents a complete patient record with their medical history, encounters, conditions, medications, and observations
